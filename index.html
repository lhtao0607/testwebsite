<!DOCTYPE html>
<html>
<head>
  <title>My Website</title>

  <style>
    body {
      text-align: center;
      font-family: Arial, sans-serif;
    }

    canvas {
      background: #222;
      display: block;
      margin: 20px auto;
      border: 2px solid white;
    }
  </style>
</head>

<body>

  <h1>Hello, Evan and Mason!</h1>
  <p>This site is hosted on GitHub Pages.</p>

  <button onclick="window.location.href='https://www.crazygames.com'">
    Play Games
  </button>

  <br><br>

  <!-- PS5 Image -->
  <img
    src="ps5.jpg"
    id="PS5"
    alt="PS5"
    width="500"
    height="333"
  >

  <br><br>

  <button onclick="hideImage()">Hide Image</button>
  <button onclick="showImage()">Show Image</button>

  <hr>

  <!-- Tank Game -->
  <h2>Tank Game ðŸš“</h2>
  <p>Use Arrow Keys to Move â€¢ Space to Shoot</p>

  <canvas id="game" width="600" height="400"></canvas>

  <script>
    /* IMAGE FUNCTIONS */
    function hideImage() {
      document.getElementById("PS5").style.display = "none";
    }

    function showImage() {
      document.getElementById("PS5").style.display = "block";
    }

    /* TANK GAME */
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    const tank = {
      x: 280,
      y: 180,
      size: 30,
      speed: 4
    };

    const enemy = {
      x: 100,
      y: 100,
      size: 30
    };

    let bullets = [];
    const keys = {};

    document.addEventListener("keydown", e => {
      keys[e.key] = true;

      if (e.key === " ") {
        bullets.push({
          x: tank.x + tank.size / 2 - 3,
          y: tank.y,
          speed: 6
        });
      }
    });

    document.addEventListener("keyup", e => {
      keys[e.key] = false;
    });

    function update() {
      if (keys["ArrowUp"] && tank.y > 0) tank.y -= tank.speed;
      if (keys["ArrowDown"] && tank.y < canvas.height - tank.size) tank.y += tank.speed;
      if (keys["ArrowLeft"] && tank.x > 0) tank.x -= tank.speed;
      if (keys["ArrowRight"] && tank.x < canvas.width - tank.size) tank.x += tank.speed;

      bullets.forEach(b => b.y -= b.speed);

      bullets = bullets.filter(b => {
        if (
          b.x > enemy.x &&
          b.x < enemy.x + enemy.size &&
          b.y > enemy.y &&
          b.y < enemy.y + enemy.size
        ) {
          enemy.x = Math.random() * (canvas.width - enemy.size);
          enemy.y = Math.random() * (canvas.height - enemy.size);
          return false;
        }
        return b.y > 0;
      });
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Tank
      ctx.fillStyle = "green";
      ctx.fillRect(tank.x, tank.y, tank.size, tank.size);
      ctx.fillRect(tank.x + 12, tank.y - 10, 6, 10);

      // Enemy
      ctx.fillStyle = "red";
      ctx.fillRect(enemy.x, enemy.y, enemy.size, enemy.size);

      // Bullets
      ctx.fillStyle = "yellow";
      bullets.forEach(b => ctx.fillRect(b.x, b.y, 6, 10));
    }

    function loop() {
      update();
      draw();
      requestAnimationFrame(loop);
    }

    loop();
  </script>

</body>
</html>
